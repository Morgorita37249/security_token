# JWT Secure Token Service (Spring Boot)

## Описание

Этот проект реализует безопасную передачу чувствительной информации в токене через незащищённый канал. Используется двухступенчатая защита:

* **Подпись (JWS)** — обеспечивает целостность и аутентичность (нельзя подделать токен).
  
* **Шифрование (JWE)** — обеспечивает конфиденциальность (нельзя прочитать содержимое без приватного ключа).

## Решаемые задачи

* Защита информации от **компрометации** — шифрование токена (JWE).
  
* Защита от **подделки токена** — цифровая подпись (JWS).
  
* Проверка срока действия токена.
  
* Проверка отзыва токена (revocation).
  
* Эндпоинт для отзыва токена.

## Как использовать

### 1. Сгенерировать ключи

openssl genrsa -out private.pem 2048

openssl rsa -in private.pem -pubout -out public.pem

Далее перемести файлы в:

src/main/resources/private.pem

src/main/resources/public.pem

### Эндпоинты

#### Получение токена

GET /api/token

Возвращает шифрованный и подписанный JWT токен.

#### Доступ к защищённому ресурсу

GET /api/secure

Authorization: Bearer <token>

Проверяет токен: валидность подписи, срок действия и отсутствие в списке отозванных.

#### Отзыв токена

http

GET /api/logout

Authorization: Bearer <token>

Добавляет `jti` токена в список отозванных. Повторное использование будет заблокировано.

## Зависимости

* Spring Boot

* Nimbus JOSE + JWT (`com.nimbusds:nimbus-jose-jwt`)

* Java 11+
